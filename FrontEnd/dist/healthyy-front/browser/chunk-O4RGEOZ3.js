import{A as cr,B as de,C as mr,D as pr,E as Ce,F as Ne,G as Ae,H as Ue,I as Ge,J as gr,K as hr,L as Le,M as ue,N as qe,O as je,P as Be,Q as br,R as _r,S as vr,T as St,U as Mt,V as Ot,W as Cr,X as fe,Y as ze,a as G,b as u,c as er,d as L,e as q,f as tr,h as j,i as Z,j as De,k as N,l as B,m as Te,n as z,p as $,q as vt,r as rr,s as Ct,t as ir,u as nr,v as or,w as xt,x as ar,y as lr,z as sr}from"./chunk-TEVBPT2Y.js";import{a as pe,b as T,g as Yt,h as Xt,i as O,l as Re,m as X,n as U,p as Zt,q as Jt}from"./chunk-PZWSNC3I.js";import{c as yt,d as Pt,f as Ve,g as dr,h as He,i as ur,j as fr}from"./chunk-Q64FFBLU.js";import{A as dt,Ab as y,Bb as b,C as Pe,Cb as Bt,G as Ft,Ga as Gt,Gb as zt,Hb as x,I as Rt,Ib as ke,Ja as s,Jb as $t,Ka as R,Kb as k,Lb as D,Mb as bt,Nb as ce,Q as ut,R as ft,S as ne,Vb as Wt,X as F,Xa as Lt,Xb as le,Y as Dt,Yb as _t,_ as Se,_a as f,ba as c,bb as Oe,cb as m,db as Ee,fa as _,fb as qt,g as wt,ga as Tt,gb as gt,hb as o,ia as Q,ib as n,j as ve,jb as p,jc as Fe,kb as E,lc as me,mc as H,n as xe,na as Nt,nb as h,nc as I,oa as v,pa as C,pb as g,pc as Kt,qa as At,qb as jt,qc as Qt,r as ie,rb as ht,rc as M,sa as Vt,sb as Ie,tb as we,ub as oe,va as Me,vb as ae,w as kt,wa as Ht,ya as Ut,yb as Y,z as ye,zb as a}from"./chunk-36BTOISK.js";var $e=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-customer-layout"]],standalone:!0,features:[x],decls:5,vars:0,consts:[[1,"layout-container"],[1,"content-wrapper"]],template:function(e,r){e&1&&(o(0,"div",0),p(1,"app-navbar-home"),o(2,"main",1),p(3,"router-outlet"),n(),p(4,"app-footer"),n())},dependencies:[Zt,Jt,Xt],styles:[".layout-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content-wrapper[_ngcontent-%COMP%]{flex:1 0 auto}app-footer[_ngcontent-%COMP%]{flex-shrink:0}"]})};var w=class i{baseURL=`${X.baseURL}/admin/profiles`;http=c(T);storageService=c(U);existsProfile(){let t=this.storageService.getAuthData();if(!t)return new wt(l=>l.next(!1));let{username:e}=t,r=new pe().set("username",e);return this.http.get(`${this.baseURL}/exists`,{params:r})}createProfile(t){return this.http.post(`${this.baseURL}`,t)}getUserProfile(){let t=this.storageService.getAuthData();if(!t)throw new Error("No se encontr\xF3 informaci\xF3n de autenticaci\xF3n");let{username:e}=t;return this.http.get(`${this.baseURL}/${e}`)}updateProfile(t){return this.http.put(`${this.baseURL}/update`,t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ur=["trigger"],Gr=["panel"],Lr=[[["mat-select-trigger"]],"*"],qr=["mat-select-trigger","*"];function jr(i,t){if(i&1&&(o(0,"span",4),a(1),n()),i&2){let e=g();s(),y(e.placeholder)}}function Br(i,t){i&1&&ht(0)}function zr(i,t){if(i&1&&(o(0,"span",11),a(1),n()),i&2){let e=g(2);s(),y(e.triggerValue)}}function $r(i,t){if(i&1&&(o(0,"span",5),f(1,Br,1,0)(2,zr,2,1,"span",11),n()),i&2){let e=g();s(),gt(e.customTrigger?1:2)}}function Wr(i,t){if(i&1){let e=E();o(0,"div",12,1),h("@transformPanel.done",function(l){v(e);let d=g();return C(d._panelDoneAnimatingStream.next(l.toState))})("keydown",function(l){v(e);let d=g();return C(d._handleKeydown(l))}),ht(2,1),n()}if(i&2){let e=g();qt("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),m("ngClass",e.panelClass)("@transformPanel","showing"),Oe("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Kr={transformPanelWrap:yt("transformPanelWrap",[He("* => void",fr("@transformPanel",[ur()],{optional:!0}))]),transformPanel:yt("transformPanel",[dr("void",Ve({opacity:0,transform:"scale(1, 0.8)"})),He("void => showing",Pt("120ms cubic-bezier(0, 0, 0.2, 1)",Ve({opacity:1,transform:"scale(1, 1)"}))),He("* => void",Pt("100ms linear",Ve({opacity:0})))])};var Mr=0,Er=new Se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=c(St);return()=>i.scrollStrategies.reposition()}});function Qr(i){return()=>i.scrollStrategies.reposition()}var Yr=new Se("MAT_SELECT_CONFIG"),Xr={provide:Er,deps:[St],useFactory:Qr},Zr=new Se("MatSelectTrigger"),Et=class{constructor(t,e){this.source=t,this.value=e}},We=(()=>{class i{_scrollOptionIntoView(e){let r=this.options.toArray()[e];if(r){let l=this.panel.nativeElement,d=mr(e,this.options,this.optionGroups),P=r._getHostElement();e===0&&d===1?l.scrollTop=0:l.scrollTop=pr(P.offsetTop,P.offsetHeight,l.scrollTop,l.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Et(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(u.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,l,d,P,re,A,Fr,Rr,It,Dr,Tr,Nr,mt){this._viewportRuler=e,this._changeDetectorRef=r,this._elementRef=P,this._dir=re,this._parentFormField=Rr,this.ngControl=It,this._liveAnnouncer=Nr,this._defaultOptions=mt,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(V,pt)=>V===pt,this._uid=`mat-select-${Mr++}`,this._triggerAriaLabelledBy=null,this._destroy=new ve,this.stateChanges=new ve,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Mr++}`,this._panelDoneAnimatingStream=new ve,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ve,this.optionSelectionChanges=kt(()=>{let V=this.options;return V?V.changes.pipe(ut(V),ft(()=>ye(...V.map(pt=>pt.onSelectionChange)))):this._initialized.pipe(ft(()=>this.optionSelectionChanges))}),this.openedChange=new Me,this._openedStream=this.openedChange.pipe(dt(V=>V),ie(()=>{})),this._closedStream=this.openedChange.pipe(dt(V=>!V),ie(()=>{})),this.selectionChange=new Me,this.valueChange=new Me,this._trackedModal=null,this._skipPredicate=V=>this.panelOpen?!1:V.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),mt?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=mt.typeaheadDebounceInterval),this._errorStateTracker=new ar(d,It,Fr,A,this.stateChanges),this._scrollStrategyFactory=Tr,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Dr)||0,this.id=this.id}ngOnInit(){this._selectionModel=new br(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Rt(),ne(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(ne(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ne(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ut(null),ne(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){let l=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?l.setAttribute("aria-labelledby",e):l.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let r=`${this.id}-panel`;this._trackedModal&&Ct(this._trackedModal,"aria-owns",r),rr(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Ct(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let r=e.keyCode,l=r===40||r===38||r===37||r===39,d=r===13||r===32,P=this._keyManager;if(!P.isTyping()&&d&&!vt(e)||(this.multiple||e.altKey)&&l)e.preventDefault(),this.open();else if(!this.multiple){let re=this.selected;P.onKeydown(e);let A=this.selected;A&&re!==A&&this._liveAnnouncer.announce(A.viewValue,1e4)}}_handleOpenKeydown(e){let r=this._keyManager,l=e.keyCode,d=l===40||l===38,P=r.isTyping();if(d&&e.altKey)e.preventDefault(),this.close();else if(!P&&(l===13||l===32)&&r.activeItem&&!vt(e))e.preventDefault(),r.activeItem._selectViaInteraction();else if(!P&&this._multiple&&l===65&&e.ctrlKey){e.preventDefault();let re=this.options.some(A=>!A.disabled&&!A.selected);this.options.forEach(A=>{A.disabled||(re?A.select():A.deselect())})}else{let re=r.activeItemIndex;r.onKeydown(e),this._multiple&&d&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==re&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ft(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let r=this.options.find(l=>{if(this._selectionModel.isSelected(l))return!1;try{return l.value!=null&&this._compareWith(l.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Mt?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new ir(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ye(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ne(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ye(...this.options.map(r=>r._stateChanges)).pipe(ne(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){let l=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(l!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())),l!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((r,l)=>this.sortComparator?this.sortComparator(r,l,e):e.indexOf(r)-e.indexOf(l)),this.stateChanges.next()}}_propagateChanges(e){let r;this.multiple?r=this.selected.map(l=>l.value):r=this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),r=e?e+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(r){return new(r||i)(R(_r),R(Wt),R(Ht),R(lr),R(Ut),R(or,8),R(tr,8),R(N,8),R(hr,8),R(er,10),Vt("tabindex"),R(Er),R(nr),R(Yr,8))}}static{this.\u0275cmp=_({type:i,selectors:[["mat-select"]],contentQueries:function(r,l,d){if(r&1&&(Ie(d,Zr,5),Ie(d,de,5),Ie(d,cr,5)),r&2){let P;oe(P=ae())&&(l.customTrigger=P.first),oe(P=ae())&&(l.options=P),oe(P=ae())&&(l.optionGroups=P)}},viewQuery:function(r,l){if(r&1&&(we(Ur,5),we(Gr,5),we(Ot,5)),r&2){let d;oe(d=ae())&&(l.trigger=d.first),oe(d=ae())&&(l.panel=d.first),oe(d=ae())&&(l._overlayDir=d.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,l){r&1&&h("keydown",function(P){return l._handleKeydown(P)})("focus",function(){return l._onFocus()})("blur",function(){return l._onBlur()}),r&2&&(Oe("id",l.id)("tabindex",l.disabled?-1:l.tabIndex)("aria-controls",l.panelOpen?l.id+"-panel":null)("aria-expanded",l.panelOpen)("aria-label",l.ariaLabel||null)("aria-required",l.required.toString())("aria-disabled",l.disabled.toString())("aria-invalid",l.errorState)("aria-activedescendant",l._getAriaActiveDescendant()),Ee("mat-mdc-select-disabled",l.disabled)("mat-mdc-select-invalid",l.errorState)("mat-mdc-select-required",l.required)("mat-mdc-select-empty",l.empty)("mat-mdc-select-multiple",l.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",le],disableRipple:[2,"disableRipple","disableRipple",le],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:_t(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",le],placeholder:"placeholder",required:[2,"required","required",le],multiple:[2,"multiple","multiple",le],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",le],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",_t],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[zt([{provide:gr,useExisting:i},{provide:sr,useExisting:i}]),Lt,Nt,x],ngContentSelectors:qr,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,l){if(r&1){let d=E();jt(Lr),o(0,"div",2,0),h("click",function(){return v(d),C(l.open())}),o(3,"div",3),f(4,jr,2,1,"span",4)(5,$r,3,1,"span",5),n(),o(6,"div",6)(7,"div",7),At(),o(8,"svg",8),p(9,"path",9),n()()()(),f(10,Wr,3,9,"ng-template",10),h("backdropClick",function(){return v(d),C(l.close())})("attach",function(){return v(d),C(l._onAttached())})("detach",function(){return v(d),C(l.close())})}if(r&2){let d=Y(1);s(3),Oe("id",l._valueId),s(),gt(l.empty?4:5),s(6),m("cdkConnectedOverlayPanelClass",l._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",l._scrollStrategy)("cdkConnectedOverlayOrigin",l._preferredOverlayOrigin||d)("cdkConnectedOverlayOpen",l.panelOpen)("cdkConnectedOverlayPositions",l._positions)("cdkConnectedOverlayWidth",l._overlayWidth)}},dependencies:[Mt,Ot,me],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Kr.transformPanel]},changeDetection:0})}}return i})();var Ke=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=Tt({type:i})}static{this.\u0275inj=Dt({providers:[Xr],imports:[M,Cr,Ce,xt,vr,ue,Ce,xt]})}}return i})();function ri(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function ii(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function ni(i,t){i&1&&(o(0,"mat-error"),a(1,"La altura debe ser mayor que 0"),n())}function oi(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function ai(i,t){i&1&&(o(0,"mat-error"),a(1,"El peso debe ser mayor que 0"),n())}function li(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function si(i,t){i&1&&(o(0,"mat-error"),a(1,"La edad debe ser mayor o igual a 18"),n())}function ci(i,t){i&1&&(o(0,"mat-error"),a(1,"La edad no debe ser mayor a 120"),n())}function mi(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}var Qe=class i{profileForm;fb=c(z);snackBar=c(fe);router=c(O);profileService=c(w);constructor(){this.profileForm=this.fb.group({userName:["",[u.required]],height:["",[u.required,u.min(1)]],weight:["",[u.required,u.min(1)]],age:["",[u.required,u.min(18),u.max(120)]],gender:["",[u.required]],healthConditions:[""]})}controlHasError(t,e){return this.profileForm.controls[t].hasError(e)}onSubmit(){if(this.profileForm.invalid)return;let t=this.profileForm.value;this.profileService.createProfile(t).subscribe({next:()=>{this.router.navigate(["/customer/profile"])},error:e=>{console.error("Error al crear el perfil",e)}})}showSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-create-profile"]],standalone:!0,features:[x],decls:52,vars:11,consts:[[1,"create-profile-container"],[1,"create-profile-content"],[1,"create-profile-header"],[1,"create-profile-subtext"],[1,"create-profile-form",3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"form-input"],["matInput","","formControlName","userName","placeholder","Introduce tu nombre de usuario"],[4,"ngIf"],["matInput","","formControlName","height","type","number","placeholder","Introduce tu altura"],["matInput","","formControlName","weight","type","number","placeholder","Introduce tu peso"],["matInput","","formControlName","age","type","number","placeholder","Introduce tu edad"],["formControlName","gender"],["value","MALE"],["value","FEMALE"],["value","OTHER"],["appearance","outline",1,"form-input","full-width"],["matInput","","formControlName","healthConditions","placeholder","Introduce cualquier condici\xF3n de salud","rows","4"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Crear Perfil"),n(),o(4,"p",3),a(5,"Por favor, completa los campos para crear tu perfil"),n(),o(6,"form",4),h("ngSubmit",function(){return r.onSubmit()}),o(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),a(10,"Nombre de usuario"),n(),p(11,"input",7),f(12,ri,2,0,"mat-error",8),n()(),o(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),a(16,"Altura (en cm)"),n(),p(17,"input",9),f(18,ii,2,0,"mat-error",8)(19,ni,2,0,"mat-error",8),n(),o(20,"mat-form-field",6)(21,"mat-label"),a(22,"Peso (en kg)"),n(),p(23,"input",10),f(24,oi,2,0,"mat-error",8)(25,ai,2,0,"mat-error",8),n()(),o(26,"div",5)(27,"mat-form-field",6)(28,"mat-label"),a(29,"Edad"),n(),p(30,"input",11),f(31,li,2,0,"mat-error",8)(32,si,2,0,"mat-error",8)(33,ci,2,0,"mat-error",8),n(),o(34,"mat-form-field",6)(35,"mat-label"),a(36,"G\xE9nero"),n(),o(37,"mat-select",12)(38,"mat-option",13),a(39,"Masculino"),n(),o(40,"mat-option",14),a(41,"Femenino"),n(),o(42,"mat-option",15),a(43,"Otro"),n()(),f(44,mi,2,0,"mat-error",8),n()(),o(45,"div",5)(46,"mat-form-field",16)(47,"mat-label"),a(48,"Condiciones de salud"),n(),p(49,"textarea",17),n()(),o(50,"button",18),a(51," Crear Perfil "),n()()()()),e&2&&(s(6),m("formGroup",r.profileForm),s(6),m("ngIf",r.controlHasError("userName","required")),s(6),m("ngIf",r.controlHasError("height","required")),s(),m("ngIf",r.controlHasError("height","min")),s(5),m("ngIf",r.controlHasError("weight","required")),s(),m("ngIf",r.controlHasError("weight","min")),s(6),m("ngIf",r.controlHasError("age","required")),s(),m("ngIf",r.controlHasError("age","min")),s(),m("ngIf",r.controlHasError("age","max")),s(11),m("ngIf",r.controlHasError("gender","required")),s(6),m("disabled",r.profileForm.invalid))},dependencies:[Ae,Ne,je,qe,Le,Ue,Ge,Be,ze,Ke,We,de,ue,Ce,M,I,$,j,G,Z,L,q,N,B],styles:[".create-profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.create-profile-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:600px}.create-profile-header[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;color:#333}.create-profile-subtext[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#666}.create-profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.form-input[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;font-size:1rem;padding:12px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#4338ca}.submit-button[_ngcontent-%COMP%]:active{background-color:#312e81}mat-error[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column}}"]})};function pi(i,t){if(i&1){let e=E();o(0,"div")(1,"header",3)(2,"h2"),a(3),n()(),o(4,"div",4)(5,"div",5)(6,"div",6),p(7,"i",7),o(8,"strong"),a(9,"Nombre:"),n(),a(10),n(),o(11,"div",6),p(12,"i",8),o(13,"strong"),a(14,"Altura:"),n(),a(15),n(),o(16,"div",6),p(17,"i",9),o(18,"strong"),a(19,"Peso:"),n(),a(20),n(),o(21,"div",6),p(22,"i",10),o(23,"strong"),a(24,"Edad:"),n(),a(25),n(),o(26,"div",6),p(27,"i",11),o(28,"strong"),a(29,"G\xE9nero:"),n(),a(30),n(),o(31,"div",6),p(32,"i",12),o(33,"strong"),a(34,"Condiciones de salud:"),n(),o(35,"p"),a(36),n()(),o(37,"button",13),h("click",function(){v(e);let l=g();return C(l.goToEdit())}),a(38,"Editar perfil"),n()()()()}if(i&2){let e=g();s(3),b("Perfil de ",e.profile.name,""),s(7),b(" ",e.profile.name," "),s(5),b(" ",e.profile.height," cm "),s(5),b(" ",e.profile.weight," kg "),s(5),b(" ",e.profile.age," a\xF1os "),s(5),b(" ",e.profile.gender," "),s(6),y(e.profile.healthConditions||"No se han especificado condiciones de salud.")}}function di(i,t){i&1&&(o(0,"div",14)(1,"h4"),a(2,"No se ha encontrado un perfil"),n(),o(3,"p"),a(4,"Parece que a\xFAn no has creado tu perfil. \xA1Empieza tu viaje hacia una vida m\xE1s saludable hoy!"),n()())}var Ye=class i{profileExists=!1;profile=null;profileService=c(w);router=c(O);constructor(){}ngOnInit(){this.checkProfile(),this.showProfile()}checkProfile(){this.profileService.existsProfile().subscribe(t=>{this.profileExists=t,t===!1?this.router.navigate(["/customer/create-profile"]):this.showProfile()})}showProfile(){this.profileService.getUserProfile().subscribe({next:t=>{this.profile=t},error:t=>{console.error("Error al obtener el perfil:",t)}})}goToEdit(){this.router.navigate(["/customer/profile/edit"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-customer-profile"]],standalone:!0,features:[x],decls:4,vars:2,consts:[["noProfile",""],[1,"profile-container"],[4,"ngIf","ngIfElse"],[1,"profile-header"],[1,"profile-card"],[1,"profile-details"],[1,"profile-item"],[1,"fas","fa-user"],[1,"fas","fa-ruler-vertical"],[1,"fas","fa-weight"],[1,"fas","fa-birthday-cake"],[1,"fas","fa-venus-mars"],[1,"fas","fa-heartbeat"],[1,"edit-profile",3,"click"],[1,"no-profile-alert"]],template:function(e,r){if(e&1&&(o(0,"div",1),f(1,pi,39,7,"div",2)(2,di,5,0,"ng-template",null,0,ce),n()),e&2){let l=Y(3);s(),m("ngIf",r.profileExists&&r.profile)("ngIfElse",l)}},dependencies:[I,M],styles:[".profile-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.profile-header[_ngcontent-%COMP%]{margin-bottom:2rem}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#006400;font-size:2rem;font-weight:700}.edit-profile[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.5rem 1rem;font-weight:700;border-radius:5px;transition:background-color .3s,color .3s}.edit-profile[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.profile-card[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;border:1px solid #90EE90}.profile-details[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.profile-item[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#006400;font-size:1.2rem;margin-right:1rem;width:20px}.profile-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#006400;margin-right:.5rem}.profile-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.no-profile-alert[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;padding:1.5rem;border-radius:8px;text-align:center}.no-profile-alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]{padding:1rem}.profile-details[_ngcontent-%COMP%]{gap:1rem}}"]})};var K=class i{baseURL=`${X.baseURL}/admin/plans`;http=c(T);createPlan(t){return this.http.post(`${this.baseURL}`,t)}getActivePlans(t,e){let r=new pe().set("page",t.toString()).set("size",e.toString());return this.http.get(`${this.baseURL}/page`,{params:r})}getPlanById(t){return this.http.get(`${this.baseURL}/${t}`)}updatePlan(t,e){return this.http.put(`${this.baseURL}/${t}`,e)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var Xe=class i{fb=c(z);router=c(O);planService=c(K);planForm;minDate;constructor(){this.planForm=this.fb.group({planName:["",u.required],description:["",u.required],endDate:["",u.required]});let t=new Date;this.minDate=t.toISOString().slice(0,16)}controlHasError(t,e){return this.planForm.controls[t].hasError(e)}onSubmit(){if(this.planForm.invalid)return;let t=this.planForm.value;this.planService.createPlan(t).subscribe({next:()=>{this.router.navigate(["customer/home"])},error:e=>{console.error("Error al crear plan",e)}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-create-plan"]],standalone:!0,features:[x],decls:23,vars:3,consts:[[1,"create-plan-container"],[1,"create-plan-header"],[1,"create-plan-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","planName"],[1,"fas","fa-file-signature"],["type","text","id","planName","formControlName","planName","placeholder","Ingresa el nombre de tu plan",1,"form-control"],["for","description"],[1,"fas","fa-align-left"],["id","description","formControlName","description","placeholder","Describe los objetivos y detalles de tu plan",1,"form-control"],["for","endDate"],[1,"fas","fa-calendar-alt"],["type","datetime-local","id","endDate","formControlName","endDate",1,"form-control",3,"min"],["type","submit",1,"btn-create-plan",3,"disabled"],[1,"fas","fa-check"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"header",1)(2,"h2"),a(3,"Crear Nuevo Plan de Salud"),n()(),o(4,"form",2),h("ngSubmit",function(){return r.onSubmit()}),o(5,"div",3)(6,"label",4),p(7,"i",5),a(8," Nombre del Plan: "),n(),p(9,"input",6),n(),o(10,"div",3)(11,"label",7),p(12,"i",8),a(13," Descripci\xF3n: "),n(),p(14,"textarea",9),n(),o(15,"div",3)(16,"label",10),p(17,"i",11),a(18," Fecha de Finalizaci\xF3n: "),n(),p(19,"input",12),n(),o(20,"button",13),p(21,"i",14),a(22," Crear Plan "),n()()()),e&2&&(s(4),m("formGroup",r.planForm),s(15),m("min",r.minDate),s(),m("disabled",!r.planForm.valid))},dependencies:[$,j,G,L,q,N,B],styles:[".create-plan-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.create-plan-header[_ngcontent-%COMP%]{margin-bottom:2rem}.create-plan-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#006400;font-size:2rem;font-weight:700}.create-plan-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;border:1px solid #90EE90}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#006400;font-weight:700}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #90EE90;border-radius:4px;font-size:1rem}textarea.form-control[_ngcontent-%COMP%]{min-height:100px}.btn-create-plan[_ngcontent-%COMP%]{background-color:#006400;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.btn-create-plan[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#004d00}.btn-create-plan[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.btn-create-plan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.create-plan-container[_ngcontent-%COMP%], .create-plan-form[_ngcontent-%COMP%]{padding:1rem}}"]})};var he=class i{transform(t){switch(t){case"ACTIVE":return"ACTIVO";case"COMPLETED":return"COMPLETADO";case"ABANDONED":return"ABANDONADO";default:return t}}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=Q({name:"planStatus",type:i,pure:!0,standalone:!0})};var ui=(i,t,e)=>({active:i,completed:t,abandoned:e});function fi(i,t){if(i&1){let e=E();o(0,"div",11)(1,"div",12)(2,"h3",13),a(3),n(),o(4,"p",14),a(5),n(),o(6,"span",15),a(7),k(8,"planStatus"),n()(),o(9,"button",16),h("click",function(){let l=v(e).$implicit,d=g();return C(d.goToPlanDetails(l.planId))}),a(10," Ver Detalles "),n()()}if(i&2){let e=t.$implicit;s(3),y(e.planName),s(2),y(e.description),s(),m("ngClass",$t(6,ui,e.planStatus==="ACTIVE",e.planStatus==="COMPLETED",e.planStatus==="ABANDONED")),s(),b(" ",D(8,4,e.planStatus)," ")}}function gi(i,t){if(i&1){let e=E();o(0,"button",23),h("click",function(){let l=v(e).$implicit,d=g(2);return C(d.changePage(l))}),a(1),n()}if(i&2){let e=t.$implicit,r=g(2);Ee("active",e===r.currentPage),s(),b(" ",e," ")}}function hi(i,t){if(i&1){let e=E();o(0,"nav",17)(1,"button",18),h("click",function(){v(e);let l=g();return C(l.changePage(l.currentPage-1))}),p(2,"i",19),a(3," Anterior "),n(),o(4,"div",20),f(5,gi,2,3,"button",21),n(),o(6,"button",18),h("click",function(){v(e);let l=g();return C(l.changePage(l.currentPage+1))}),a(7," Siguiente "),p(8,"i",22),n()()}if(i&2){let e=g();s(),m("disabled",e.currentPage===1),s(4),m("ngForOf",e.pages),s(),m("disabled",e.currentPage===e.totalPages)}}var Ze=class i{profile;activePlans=[];pages=[];currentPage=1;totalPages=1;router=c(O);planService=c(K);profileService=c(w);storageService=c(U);snackBar=c(fe);ngOnInit(){this.loadActivePlans()}loadActivePlans(){this.planService.getActivePlans(this.currentPage-1,4).subscribe(t=>{console.log("Datos de planes:",t),this.activePlans=t.content,this.totalPages=t.totalPages,this.pages=Array.from({length:this.totalPages},(e,r)=>r+1)}),this.profileService.getUserProfile().subscribe({next:t=>{this.profile=t},error:t=>{this.showSnackBar("Error al obtener el perfil")}})}updatePlansForCurrentPage(){let t=(this.currentPage-1)*4,e=t+4;this.activePlans=this.activePlans.slice(t,e)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.loadActivePlans())}createNewPlan(){this.router.navigate(["/customer/plan/create-plan"])}goToPlanDetails(t){this.storageService.setPlanId(t),this.router.navigate(["/customer/plan"])}showSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-customer-home"]],standalone:!0,features:[x],decls:16,vars:3,consts:[[1,"customer-home-container"],[1,"welcome-header"],[1,"welcome-message"],[1,"user-name"],[1,"plans-section"],[1,"plans-header"],[1,"btn-create-plan",3,"click"],[1,"fas","fa-leaf"],[1,"plans-grid"],["class","plan-card",4,"ngFor","ngForOf"],["class","pagination-nav",4,"ngIf"],[1,"plan-card"],[1,"plan-card-content"],[1,"plan-title"],[1,"plan-description"],[1,"plan-status",3,"ngClass"],[1,"btn-plan-details",3,"click"],[1,"pagination-nav"],[1,"btn-nav",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"page-numbers"],["class","btn-page",3,"active","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"btn-page",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"Bienvenido, "),o(4,"span",3),a(5),n()()(),o(6,"section",4)(7,"div",5)(8,"h2"),a(9,"Tus Planes de Salud"),n(),o(10,"button",6),h("click",function(){return r.createNewPlan()}),p(11,"i",7),a(12," Nuevo Plan Saludable "),n()(),o(13,"div",8),f(14,fi,11,10,"div",9),n(),f(15,hi,9,3,"nav",10),n()()),e&2&&(s(5),y(r.profile.name),s(9),m("ngForOf",r.activePlans),s(),m("ngIf",r.totalPages>1))},dependencies:[he,M,me,H,I],styles:[".customer-home-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem}.welcome-header[_ngcontent-%COMP%]{margin-bottom:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:2rem;color:#006400}.user-name[_ngcontent-%COMP%]{font-weight:700}.plans-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.btn-create-plan[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.75rem 1rem;border-radius:5px;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-create-plan[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.plans-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.plan-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;overflow:hidden;border:1px solid #90EE90;box-shadow:0 2px 4px #0000001a;transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 8px #0003}.plan-card-content[_ngcontent-%COMP%]{padding:1.5rem;flex-grow:1;flex-direction:column}.plan-title[_ngcontent-%COMP%]{color:#006400;font-size:1.25rem;font-weight:700;margin-bottom:.5rem}.plan-description[_ngcontent-%COMP%]{color:#333;font-size:.875rem;margin-bottom:1rem}.plan-status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:15px;font-size:.75rem;font-weight:700}.plan-status.active[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400}.plan-status.completed[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff}.plan-status.abandoned[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.btn-plan-details[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;width:100%;padding:.75rem;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-plan-details[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.pagination-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2rem}.btn-nav[_ngcontent-%COMP%], .btn-page[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #90EE90;color:#006400;padding:.5rem 1rem;margin:0 .25rem;cursor:pointer;transition:background-color .3s,color .3s}.btn-nav[_ngcontent-%COMP%]:hover, .btn-page[_ngcontent-%COMP%]:hover, .btn-page.active[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400}.btn-nav[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.plans-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.btn-create-plan[_ngcontent-%COMP%]{margin-top:1rem}.plans-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Je=class i{transform(t){switch(t){case"IN_PROGRESS":return"En Progreso";case"ACHIEVED":return"Alcanzado";case"FAILED":return"Fallido";case"ABANDONED":return"Abandonado";default:return t}}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=Q({name:"goalStatus",type:i,pure:!0,standalone:!0})};var J=class i{baseURL=`${X.baseURL}/admin/goals`;http=c(T);createGoal(t){return this.http.post(`${this.baseURL}`,t)}deleteGoal(t){return this.http.delete(`${this.baseURL}/${t}`)}getGoalById(t){return this.http.get(`${this.baseURL}/${t}`)}updateGoal(t,e){return this.http.put(`${this.baseURL}/${t}`,e)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var ee=class i{transform(t){switch(t){case"Daily Exercise":return"Ejercicio diario";case"Healthy Eating":return"Comer saludable";case"Meditation":return"Meditaci\xF3n";case"Reading":return"Leer";case"Sleep 8 hours":return"Horas de sue\xF1o";default:return t}}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=Q({name:"habitType",type:i,pure:!0,standalone:!0})};function bi(i,t){if(i&1){let e=E();o(0,"div",16)(1,"h4",17),a(2),n(),o(3,"p")(4,"strong"),a(5,"Tipo de h\xE1bito:"),n(),a(6),k(7,"habitType"),n(),o(8,"p")(9,"strong"),a(10,"Valor Objetivo:"),n(),a(11),n(),o(12,"p")(13,"strong"),a(14,"Valor Actual:"),n(),a(15),n(),o(16,"p")(17,"strong"),a(18,"Estado:"),n(),o(19,"span",9),k(20,"lowercase"),a(21),k(22,"goalStatus"),n()(),o(23,"button",18),h("click",function(){let l=v(e).$implicit,d=g(3);return C(d.editGoal(l.goalId))}),a(24,"Editar"),n(),o(25,"button",18),h("click",function(){let l=v(e).$implicit,d=g(3);return C(d.deleteGoal(l.goalId))}),a(26,"Eliminar"),n()()}if(i&2){let e=t.$implicit;s(2),y(e.habitName),s(4),b(" ",D(7,6,e.habitTypeName),""),s(5),b(" ",e.targetValue,""),s(4),b(" ",e.currentValue,""),s(4),m("ngClass",D(20,8,e.goalStatus)),s(2),y(D(22,10,e.goalStatus))}}function _i(i,t){if(i&1&&(o(0,"div",14),f(1,bi,27,12,"div",15),n()),i&2){let e=g(2);s(),m("ngForOf",e.plan.goals)}}function vi(i,t){i&1&&(o(0,"p",19),p(1,"i",20),a(2," No hay metas asociadas a este plan. "),n())}function Ci(i,t){if(i&1){let e=E();o(0,"div",1)(1,"header",2)(2,"h2",3),a(3,"Detalles del Plan"),n(),o(4,"button",4),h("click",function(){v(e);let l=g();return C(l.createNewGoal())}),p(5,"i",5),a(6," Crear nueva meta "),n()(),o(7,"div",6)(8,"h3",7),a(9),n(),o(10,"div",8)(11,"p")(12,"strong"),a(13,"Descripci\xF3n:"),n(),a(14),n(),o(15,"p")(16,"strong"),a(17,"Fecha de Inicio:"),n(),a(18),k(19,"date"),n(),o(20,"p")(21,"strong"),a(22,"Fecha de Finalizaci\xF3n:"),n(),a(23),k(24,"date"),n(),o(25,"p")(26,"strong"),a(27,"Estado:"),n(),o(28,"span",9),k(29,"lowercase"),a(30),k(31,"planStatus"),n()()(),o(32,"button",10),h("click",function(){v(e);let l=g();return C(l.goToEditPlan())}),a(33,"Editar"),n()(),o(34,"div",11)(35,"h3",3),a(36,"Metas Asociadas"),n(),f(37,_i,2,1,"div",12)(38,vi,3,0,"p",13),n()()}if(i&2){let e=g();s(9),y(e.plan.planName),s(5),b(" ",e.plan.description,""),s(4),b(" ",bt(19,8,e.plan.startDate,"dd/MM/yyyy HH:mm"),""),s(5),b(" ",bt(24,11,e.plan.endDate,"dd/MM/yyyy HH:mm"),""),s(5),m("ngClass",D(29,14,e.plan.planStatus)),s(2),y(D(31,16,e.plan.planStatus)),s(7),m("ngIf",e.plan.goals&&e.plan.goals.length>0),s(),m("ngIf",!e.plan.goals||e.plan.goals.length===0)}}var et=class i{planId=null;plan=null;storageService=c(U);planService=c(K);router=c(O);goalService=c(J);ngOnInit(){this.loadPlan()}loadPlan(){this.planId=this.storageService.getPlanId(),console.log(this.planId),this.planId!==null&&this.planService.getPlanById(this.planId).subscribe(t=>{console.log("Detalles del Plan:",t),this.plan=t},t=>{console.error("Error al obtener detalles del plan:",t)})}createNewGoal(){this.router.navigate(["customer/plan/goal"])}goToEditPlan(){this.router.navigate(["/customer/plan/edit"])}deleteGoal(t){this.goalService.deleteGoal(t).subscribe({next:()=>{this.loadPlan()},error:e=>{console.error("Error al eliminar meta, ",e)}})}editGoal(t){this.storageService.setGoalId(t),this.router.navigate(["customer/plan/goal/edit"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-customer-plan"]],standalone:!0,features:[x],decls:1,vars:1,consts:[["class","customer-plan-container",4,"ngIf"],[1,"customer-plan-container"],[1,"plan-header"],[1,"section-title"],[1,"btn","btn-primary","btn-create-goal",3,"click"],[1,"fas","fa-plus-circle"],[1,"plan-details-card"],[1,"plan-name"],[1,"plan-info"],[1,"status-badge",3,"ngClass"],[1,"btn-create-goal",3,"click"],[1,"goals-section"],["class","goals-grid",4,"ngIf"],["class","no-goals-message",4,"ngIf"],[1,"goals-grid"],["class","goal-card",4,"ngFor","ngForOf"],[1,"goal-card"],[1,"goal-name"],[1,"btn-edit-goal",3,"click"],[1,"no-goals-message"],[1,"fas","fa-info-circle"]],template:function(e,r){e&1&&f(0,Ci,39,18,"div",0),e&2&&m("ngIf",r.plan)},dependencies:[M,me,H,I,Kt,Qt,Re,Je,he,ee],styles:[".customer-plan-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.plan-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{color:#006400;font-size:1.5rem;margin:0}.btn-create-goal[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.5rem 1rem;font-weight:700;border-radius:5px;transition:background-color .3s,color .3s}.btn-create-goal[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.btn-edit-goal[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.5rem 1rem;font-weight:700;border-radius:5px;transition:background-color .3s,color .3s}.btn-edit-goal[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.plan-details-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 4px #0000001a}.plan-name[_ngcontent-%COMP%]{color:#006400;font-size:1.25rem;margin-bottom:1rem}.plan-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:15px;font-size:.75rem;font-weight:700}.status-badge.active[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400}.status-badge.completed[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff}.status-badge.abandoned[_ngcontent-%COMP%]{background-color:#fd2600;color:#fff}.goals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.goal-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}.goal-name[_ngcontent-%COMP%]{color:#006400;font-size:1.1rem;margin-bottom:1rem}.no-goals-message[_ngcontent-%COMP%]{text-align:center;color:#666;font-style:italic}@media (max-width: 768px){.plan-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.btn-create-goal[_ngcontent-%COMP%], .btn-edit-goal[_ngcontent-%COMP%]{margin-top:1rem}.goals-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var be=class i{baseURL=`${X.baseURL}/admin/habits`;http=c(T);getHabits(){return this.http.get(`${this.baseURL}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var xi=()=>[];function yi(i,t){if(i&1){let e=E();o(0,"label",16)(1,"input",17),h("change",function(){let l=v(e).$implicit,d=g(2);return C(d.onHabitChange(l.name))}),n(),o(2,"span",18),a(3),k(4,"habitType"),n()()}if(i&2){let e=t.$implicit;s(),m("value",e.id),s(2),y(D(4,2,e.name))}}function Pi(i,t){if(i&1&&(o(0,"div",14),f(1,yi,5,4,"label",15),n()),i&2){let e=g();s(),m("ngForOf",e.habits)}}var tt=class i{fb=c(z);storageService=c(U);goalService=c(J);router=c(O);habitService=c(be);goalForm;habits=[];planId=0;selectedHabit="";minDate;showHabits=!1;constructor(){this.goalForm=this.fb.group({targetValue:["",[u.required]],currentValue:["",[u.required]],endDate:["",[u.required]],habitId:["",[u.required]]});let t=new Date;this.minDate=t.toISOString().slice(0,16)}ngOnInit(){this.habitService.getHabits().subscribe(t=>{this.habits=t},t=>{console.error("Error al cargar los h\xE1bitos:",t)})}onSubmitGoal(){if(this.goalForm.invalid)return;let t=this.goalForm.value;t.planId=this.storageService.getPlanId(),t.trackings=[],this.goalService.createGoal(t).subscribe({next:()=>{this.router.navigate(["customer/plan"])},error:e=>{console.error("Error al crear plan",e)}})}toggleHabits(){this.showHabits=!this.showHabits}onHabitChange(t){this.selectedHabit=t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-create-goal"]],standalone:!0,features:[x],decls:23,vars:7,consts:[[1,"create-goal-container"],[1,"section-title"],[1,"goal-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","targetValue",1,"form-label"],["type","number","id","targetValue","formControlName","targetValue","required","",1,"form-input"],["for","currentValue",1,"form-label"],["type","number","id","currentValue","formControlName","currentValue","required","",1,"form-input"],["for","endDate",1,"form-label"],["type","datetime-local","id","endDate","formControlName","endDate","required","",1,"form-input",3,"min"],[1,"habit-selection-title"],["class","habit-list",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[1,"fas","fa-check-circle"],[1,"habit-list"],["class","habit-option",4,"ngFor","ngForOf"],[1,"habit-option"],["type","radio","formControlName","habitId","required","",1,"habit-radio",3,"change","value"],[1,"habit-name"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"h2",1),a(2,"Crear Nueva Meta"),n(),o(3,"form",2),h("ngSubmit",function(){return r.onSubmitGoal()}),o(4,"div",3)(5,"label",4),a(6),n(),p(7,"input",5),n(),o(8,"div",3)(9,"label",6),a(10),n(),p(11,"input",7),n(),o(12,"div",3)(13,"label",8),a(14,"Fecha de Finalizaci\xF3n:"),n(),p(15,"input",9),n(),o(16,"div",3)(17,"h3",10),a(18,"Seleccionar H\xE1bito"),n(),f(19,Pi,2,1,"div",11),n(),o(20,"button",12),p(21,"i",13),a(22," Crear Meta "),n()()()),e&2&&(s(3),m("formGroup",r.goalForm),s(3),b(" ",r.selectedHabit==="Daily Exercise"?"Cantidad de dias de ejercicio objetivo:":r.selectedHabit==="Healthy Eating"?"Peso objetivo:":r.selectedHabit==="Meditation"?"Cantidad de sesiones de meditaci\xF3n a la semana:":r.selectedHabit==="Reading"?"P\xE1ginas Objetivo de Lectura:":r.selectedHabit==="Sleep 8 hours"?"Horas de Sue\xF1o Objetivo:":"Valor Objetivo:"," "),s(4),b(" ",r.selectedHabit==="Daily Exercise"?"Cantidad de dias de ejercicio actual:":r.selectedHabit==="Healthy Eating"?"Peso actual :":r.selectedHabit==="Meditation"?"Sesiones Actuales de Meditaci\xF3n:":r.selectedHabit==="Reading"?"P\xE1ginas Actuales Le\xEDdas:":r.selectedHabit==="Sleep 8 hours"?"Horas Actuales de Sue\xF1o:":"Valor Actual:"," "),s(5),m("min",r.minDate),s(4),m("ngIf",(r.habits||ke(6,xi)).length>0),s(),m("disabled",r.goalForm.invalid))},dependencies:[$,j,G,Z,De,L,q,Te,N,B,M,H,I,ee],styles:[".create-goal-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.section-title[_ngcontent-%COMP%]{color:#006400;font-size:1.5rem;margin-bottom:1.5rem;text-align:center}.goal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{color:#006400;font-weight:700;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #90EE90;border-radius:4px;font-size:1rem}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#006400;box-shadow:0 0 0 2px #0064001a}.habit-selection-title[_ngcontent-%COMP%]{color:#006400;font-size:1.2rem;margin-bottom:.5rem}.habit-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.habit-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.habit-radio[_ngcontent-%COMP%]{margin-right:.5rem}.habit-name[_ngcontent-%COMP%]{color:#006400}.submit-button[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.75rem 1rem;font-size:1rem;font-weight:700;border-radius:4px;cursor:pointer;transition:background-color .3s,color .3s}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#006400;color:#fff}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}"]})};var wr=(i,t)=>{let e=c(w),r=c(O);return e.existsProfile().pipe(ie(l=>l?r.parseUrl("/customer/home"):!0),Pe(()=>xe(!0)))};var kr=(i,t)=>{let e=c(w),r=c(O);return e.existsProfile().pipe(ie(l=>l?!0:r.parseUrl("/customer/create-profile")),Pe(()=>xe(r.parseUrl("/customer/create-profile"))))};var rt=class i{plan=null;planId=null;fb=c(z);storageService=c(U);planService=c(K);location=c(Fe);planForm;constructor(){this.planForm=this.fb.group({planName:["",u.required],description:["",u.required]})}ngOnInit(){this.loadPlan()}loadPlan(){this.planId=this.storageService.getPlanId(),this.planId!==null&&this.planService.getPlanById(this.planId).subscribe(t=>{this.plan=t,this.planForm.patchValue({planName:this.plan.planName,description:this.plan.description})},t=>{console.error("Error al obtener detalles del plan: ",t)})}onSubmit(){if(this.planForm.invalid)return;let t=this.planForm.value;this.planId!==null&&this.planService.updatePlan(this.planId,t).subscribe({next:()=>{this.location.back()},error:e=>{console.error("Error al editar plan",e)}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-edit-plan"]],standalone:!0,features:[x],decls:18,vars:2,consts:[[1,"edit-plan-container"],[1,"edit-plan-header"],[1,"edit-plan-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","planName"],[1,"fas","fa-file-signature"],["type","text","id","planName","formControlName","planName","placeholder","Ingresa el nombre de tu plan",1,"form-control"],["for","description"],[1,"fas","fa-align-left"],["id","description","formControlName","description","placeholder","Describe los objetivos y detalles de tu plan",1,"form-control"],["type","submit",1,"btn-edit-plan",3,"disabled"],[1,"fas","fa-check"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"header",1)(2,"h2"),a(3,"Editar Plan de Salud"),n()(),o(4,"form",2),h("ngSubmit",function(){return r.onSubmit()}),o(5,"div",3)(6,"label",4),p(7,"i",5),a(8," Nombre del Plan: "),n(),p(9,"input",6),n(),o(10,"div",3)(11,"label",7),p(12,"i",8),a(13," Descripci\xF3n: "),n(),p(14,"textarea",9),n(),o(15,"button",10),p(16,"i",11),a(17," Editar Plan "),n()()()),e&2&&(s(4),m("formGroup",r.planForm),s(11),m("disabled",!r.planForm.valid))},dependencies:[M,$,j,G,L,q,N,B],styles:[".edit-plan-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.edit-plan-header[_ngcontent-%COMP%]{margin-bottom:2rem}.edit-plan-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#006400;font-size:2rem;font-weight:700}.edit-plan-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;border:1px solid #90EE90}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#006400;font-weight:700}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #90EE90;border-radius:4px;font-size:1rem}textarea.form-control[_ngcontent-%COMP%]{min-height:100px}.btn-edit-plan[_ngcontent-%COMP%]{background-color:#006400;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.btn-edit-plan[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#004d00}.btn-edit-plan[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.btn-edit-plan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.edit-plan-container[_ngcontent-%COMP%], .edit-plan-form[_ngcontent-%COMP%]{padding:1rem}}"]})};var Si=()=>[];function Mi(i,t){if(i&1){let e=E();o(0,"label",16)(1,"input",17),h("change",function(){let l=v(e).$implicit,d=g(2);return C(d.onHabitChange(l.name))}),n(),o(2,"span",18),a(3),k(4,"habitType"),n()()}if(i&2){let e=t.$implicit;s(),m("value",e.id),s(2),y(D(4,2,e.name))}}function Oi(i,t){if(i&1&&(o(0,"div",14),f(1,Mi,5,4,"label",15),n()),i&2){let e=g();s(),m("ngForOf",e.habits)}}var it=class i{fb=c(z);storageService=c(U);goalService=c(J);goalId=null;goal=null;location=c(Fe);habitService=c(be);goalForm;habits=[];minDate;selectedHabit="";showHabits=!1;planId=null;constructor(){this.goalForm=this.fb.group({targetValue:["",[u.required]],currentValue:["",[u.required]],endDate:["",[u.required]],habitId:["",[u.required]]});let t=new Date;this.minDate=t.toISOString().slice(0,16)}ngOnInit(){this.habitService.getHabits().subscribe(t=>{this.habits=t},t=>{console.error("Error al cargar los h\xE1bitos:",t)}),this.loadGoal()}loadGoal(){this.goalId=this.storageService.getGoalId(),this.goalId!==null&&this.goalService.getGoalById(this.goalId).subscribe(t=>{this.goal=t[0],this.goal.planId,this.goalForm.patchValue({targetValue:this.goal?.targetValue,currentValue:this.goal?.currentValue,endDate:this.goal?.endDate})},t=>{console.error("Error al cargar la meta:",t)})}onSubmitGoal(){if(this.goalForm.invalid)return;let t=this.goalForm.value;this.planId=this.storageService.getPlanId(),t.planId=this.planId,console.log(this.goalId),this.goalId!==null&&this.goalService.updateGoal(this.goalId,t).subscribe({next:()=>{this.location.back()},error:e=>{console.error("Eror al actualiza meta ",e)}})}toggleHabits(){this.showHabits=!this.showHabits}onHabitChange(t){this.selectedHabit=t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-edit-goal"]],standalone:!0,features:[x],decls:23,vars:7,consts:[[1,"edit-goal-container"],[1,"section-title"],[1,"goal-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","targetValue",1,"form-label"],["type","number","id","targetValue","formControlName","targetValue","required","",1,"form-input"],["for","currentValue",1,"form-label"],["type","number","id","currentValue","formControlName","currentValue","required","",1,"form-input"],["for","endDate",1,"form-label"],["type","datetime-local","id","endDate","formControlName","endDate","required","",1,"form-input",3,"min"],[1,"habit-selection-title"],["class","habit-list",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[1,"fas","fa-check-circle"],[1,"habit-list"],["class","habit-option",4,"ngFor","ngForOf"],[1,"habit-option"],["type","radio","formControlName","habitId","required","",1,"habit-radio",3,"change","value"],[1,"habit-name"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"h2",1),a(2,"Editar Meta"),n(),o(3,"form",2),h("ngSubmit",function(){return r.onSubmitGoal()}),o(4,"div",3)(5,"label",4),a(6),n(),p(7,"input",5),n(),o(8,"div",3)(9,"label",6),a(10),n(),p(11,"input",7),n(),o(12,"div",3)(13,"label",8),a(14,"Fecha de Finalizaci\xF3n:"),n(),p(15,"input",9),n(),o(16,"div",3)(17,"h3",10),a(18,"Seleccionar H\xE1bito"),n(),f(19,Oi,2,1,"div",11),n(),o(20,"button",12),p(21,"i",13),a(22," Editar Meta "),n()()()),e&2&&(s(3),m("formGroup",r.goalForm),s(3),b(" ",r.selectedHabit==="Daily Exercise"?"Cantidad de d\xEDas de ejercicio objetivo:":r.selectedHabit==="Healthy Eating"?"Peso objetivo:":r.selectedHabit==="Meditation"?"Cantidad de sesiones de meditaci\xF3n a la semana:":r.selectedHabit==="Reading"?"P\xE1ginas Objetivo de Lectura:":r.selectedHabit==="Sleep 8 hours"?"Horas de Sue\xF1o Objetivo:":"Valor Objetivo:"," "),s(4),b(" ",r.selectedHabit==="Daily Exercise"?"Cantidad de d\xEDas de ejercicio actual:":r.selectedHabit==="Healthy Eating"?"Peso actual :":r.selectedHabit==="Meditation"?"Sesiones Actuales de Meditaci\xF3n:":r.selectedHabit==="Reading"?"P\xE1ginas Actuales Le\xEDdas:":r.selectedHabit==="Sleep 8 hours"?"Horas Actuales de Sue\xF1o:":"Valor Actual:"," "),s(5),m("min",r.minDate),s(4),m("ngIf",(r.habits||ke(6,Si)).length>0),s(),m("disabled",r.goalForm.invalid))},dependencies:[$,j,G,Z,De,L,q,Te,N,B,M,H,I,ee],styles:[".edit-goal-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.section-title[_ngcontent-%COMP%]{color:#006400;font-size:1.5rem;margin-bottom:1.5rem;text-align:center}.goal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{color:#006400;font-weight:700;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #90EE90;border-radius:4px;font-size:1rem}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#006400;box-shadow:0 0 0 2px #0064001a}.habit-selection-title[_ngcontent-%COMP%]{color:#006400;font-size:1.2rem;margin-bottom:.5rem}.habit-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.habit-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.habit-radio[_ngcontent-%COMP%]{margin-right:.5rem}.habit-name[_ngcontent-%COMP%]{color:#006400}.submit-button[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.75rem 1rem;font-size:1rem;font-weight:700;border-radius:4px;cursor:pointer;transition:background-color .3s,color .3s}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#006400;color:#fff}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}"]})};function Ei(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function Ii(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function wi(i,t){i&1&&(o(0,"mat-error"),a(1,"La altura debe ser mayor que 0"),n())}function ki(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function Fi(i,t){i&1&&(o(0,"mat-error"),a(1,"El peso debe ser mayor que 0"),n())}function Ri(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}function Di(i,t){i&1&&(o(0,"mat-error"),a(1,"La edad debe ser mayor o igual a 18"),n())}function Ti(i,t){i&1&&(o(0,"mat-error"),a(1,"La edad no debe ser mayor a 120"),n())}function Ni(i,t){i&1&&(o(0,"mat-error"),a(1,"Este campo es obligatorio"),n())}var nt=class i{profileForm;fb=c(z);snackBar=c(fe);profileService=c(w);router=c(O);constructor(){this.profileForm=this.fb.group({userName:["",[u.required]],height:["",[u.required,u.min(1)]],weight:["",[u.required,u.min(1)]],age:["",[u.required,u.min(18),u.max(120)]],gender:["",[u.required]],healthConditions:[""]})}ngOnInit(){this.loadProfile()}onSubmit(){if(this.profileForm.invalid)return;let t=this.profileForm.value;this.profileService.updateProfile(t).subscribe({next:()=>{this.router.navigate(["/customer/profile"])},error:e=>{console.error("Error al actualizar el perfil ",e)}})}loadProfile(){this.profileService.getUserProfile().subscribe(t=>{console.log(t),this.profileForm.patchValue({userName:t.name,height:t.height,weight:t.weight,age:t.age,gender:t.gender,healthConditions:t.healthConditions})},t=>{console.error("Error al cargar el perfil ",t)})}controlHasError(t,e){return this.profileForm.controls[t].hasError(e)}showSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-edit-profile"]],standalone:!0,features:[x],decls:52,vars:11,consts:[[1,"edit-profile-container"],[1,"edit-profile-content"],[1,"edit-profile-header"],[1,"edit-profile-subtext"],[1,"edit-profile-form",3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"form-input"],["matInput","","formControlName","userName","placeholder","Introduce tu nombre de usuario"],[4,"ngIf"],["matInput","","formControlName","height","type","number","placeholder","Introduce tu altura"],["matInput","","formControlName","weight","type","number","placeholder","Introduce tu peso"],["matInput","","formControlName","age","type","number","placeholder","Introduce tu edad"],["formControlName","gender"],["value","MALE"],["value","FEMALE"],["value","OTHER"],["appearance","outline",1,"form-input","full-width"],["matInput","","formControlName","healthConditions","placeholder","Introduce cualquier condici\xF3n de salud","rows","4"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Editar Perfil"),n(),o(4,"p",3),a(5,"Por favor, completa los campos para editar tu perfil"),n(),o(6,"form",4),h("ngSubmit",function(){return r.onSubmit()}),o(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),a(10,"Nombre de usuario"),n(),p(11,"input",7),f(12,Ei,2,0,"mat-error",8),n()(),o(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),a(16,"Altura (en cm)"),n(),p(17,"input",9),f(18,Ii,2,0,"mat-error",8)(19,wi,2,0,"mat-error",8),n(),o(20,"mat-form-field",6)(21,"mat-label"),a(22,"Peso (en kg)"),n(),p(23,"input",10),f(24,ki,2,0,"mat-error",8)(25,Fi,2,0,"mat-error",8),n()(),o(26,"div",5)(27,"mat-form-field",6)(28,"mat-label"),a(29,"Edad"),n(),p(30,"input",11),f(31,Ri,2,0,"mat-error",8)(32,Di,2,0,"mat-error",8)(33,Ti,2,0,"mat-error",8),n(),o(34,"mat-form-field",6)(35,"mat-label"),a(36,"G\xE9nero"),n(),o(37,"mat-select",12)(38,"mat-option",13),a(39,"Masculino"),n(),o(40,"mat-option",14),a(41,"Femenino"),n(),o(42,"mat-option",15),a(43,"Otro"),n()(),f(44,Ni,2,0,"mat-error",8),n()(),o(45,"div",5)(46,"mat-form-field",16)(47,"mat-label"),a(48,"Condiciones de salud"),n(),p(49,"textarea",17),n()(),o(50,"button",18),a(51," Editar Perfil "),n()()()()),e&2&&(s(6),m("formGroup",r.profileForm),s(6),m("ngIf",r.controlHasError("userName","required")),s(6),m("ngIf",r.controlHasError("height","required")),s(),m("ngIf",r.controlHasError("height","min")),s(5),m("ngIf",r.controlHasError("weight","required")),s(),m("ngIf",r.controlHasError("weight","min")),s(6),m("ngIf",r.controlHasError("age","required")),s(),m("ngIf",r.controlHasError("age","min")),s(),m("ngIf",r.controlHasError("age","max")),s(11),m("ngIf",r.controlHasError("gender","required")),s(6),m("disabled",r.profileForm.invalid))},dependencies:[M,I,$,j,G,Z,L,q,N,B,Ae,Ne,je,qe,Le,Ue,Ge,Be,ze,Ke,We,de,ue],styles:[".edit-profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.edit-profile-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:600px}.edit-profile-header[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;color:#333}.edit-profile-subtext[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#666}.edit-profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.form-input[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;font-size:1rem;padding:12px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#4338ca}.submit-button[_ngcontent-%COMP%]:active{background-color:#312e81}mat-error[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column}}"]})};var te={production:!1,baseURL:"https://healthy-api-latest-q67s.onrender.com/api/v1",paypalUrl:"http://localhost:4200/customer/subscription"};var _e=class i{baseUrl=`${te.baseURL}/admin`;http=c(T);getSubPlans(){return this.http.get(`${this.baseUrl}/sub_plans`)}createSubscription(t){return this.http.post(`${this.baseUrl}/subscriptions`,t)}getSubStatus(t){return this.http.get(`${this.baseUrl}/subscriptions/has-active-subscription/${t}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var ot=class i{baseUrl=`${te.baseURL}/checkout`;http=c(T);createPaypalOrder(t){let e=new pe;return e=e.append("paymentId",t),e=e.append("returnUrl",te.paypalUrl),e=e.append("cancelUrl",te.paypalUrl),this.http.post(`${this.baseUrl}/create`,null,{params:e})}capturePaypalOrder(t){return this.http.post(`${this.baseUrl}/capture?orderId=${t}`,null)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ai(i,t){if(i&1){let e=E();o(0,"div",4)(1,"h3",5),a(2),n(),o(3,"p",6),a(4),n(),o(5,"p",7)(6,"strong"),a(7,"Duraci\xF3n:"),n(),a(8),n(),o(9,"p",8)(10,"strong"),a(11,"Precio:"),n(),a(12),n(),o(13,"button",9),h("click",function(){let l=v(e).$implicit,d=g(2);return C(d.goToPurchase(l.id))}),a(14,"Seleccionar Plan"),n()()}if(i&2){let e=t.$implicit;s(2),y(e.name),s(2),y(e.description),s(4),b(" ",e.durationDays," d\xEDas"),s(4),b(" $",e.price,"")}}function Vi(i,t){if(i&1&&(o(0,"div",2),f(1,Ai,15,4,"div",3),n()),i&2){let e=g();s(),m("ngForOf",e.plans)}}function Hi(i,t){if(i&1){let e=E();o(0,"p"),a(1,"Ya te encuentras suscrito. Puedes acceder al apartado de recursos"),n(),o(2,"button",9),h("click",function(){v(e);let l=g();return C(l.navigateToResource())}),a(3,"Ver recursos"),n()}}var at=class i{subService=c(_e);profileService=c(w);checkoutService=c(ot);route=c(Yt);router=c(O);isSubs=!1;plans=[];subData=null;profile=null;ngOnInit(){this.alreadySub();let t=this.route.snapshot.queryParamMap.get("token"),e=this.route.snapshot.queryParamMap.get("PayerID");t&&e&&this.checkoutService.capturePaypalOrder(t).subscribe(r=>{r.completed&&this.router.navigate(["/customer/profile"])})}alreadySub(){this.profileService.getUserProfile().subscribe(t=>{this.profile=t,this.profile&&this.subService.getSubStatus(this.profile.id).subscribe(e=>{this.isSubs=e,console.log(e),this.isSubs===!1&&this.loadSubs()})})}loadSubs(){this.subService.getSubPlans().subscribe(t=>{this.plans=t},t=>{console.error(t)})}goToPurchase(t){this.profileService.getUserProfile().subscribe(e=>{this.profile=e,this.profile!==null&&(this.subData={profileId:this.profile.id,subPlanId:t},this.subService.createSubscription(this.subData).subscribe(r=>{this.checkoutService.createPaypalOrder(r.id).subscribe(l=>{console.log(l),window.location.href=l.paypalUrl})}))})}navigateToResource(){this.router.navigate(["/customer/resources"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-subscriptions"]],standalone:!0,features:[x],decls:3,vars:2,consts:[["noPlans",""],["class","plan-container",4,"ngIf","ngIfElse"],[1,"plan-container"],["class","plan-card",4,"ngFor","ngForOf"],[1,"plan-card"],[1,"plan-name"],[1,"plan-description"],[1,"plan-duration"],[1,"plan-price"],[1,"btn-select-plan",3,"click"]],template:function(e,r){if(e&1&&f(0,Vi,2,1,"div",1)(1,Hi,4,0,"ng-template",null,0,ce),e&2){let l=Y(2);m("ngIf",r.plans.length>0)("ngIfElse",l)}},dependencies:[M,H,I,Re],styles:[".plan-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap;margin:2rem 0}.plan-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #90ee90;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:1.5rem;max-width:300px;text-align:center;transition:transform .3s ease}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.plan-name[_ngcontent-%COMP%]{color:#006400;font-size:1.5rem;margin-bottom:1rem}.plan-description[_ngcontent-%COMP%]{color:#333;font-size:1rem;margin-bottom:1rem}.plan-duration[_ngcontent-%COMP%], .plan-price[_ngcontent-%COMP%]{color:#555;margin-bottom:.5rem}.btn-select-plan[_ngcontent-%COMP%]{background-color:#006400;color:#fff;padding:.75rem 1rem;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.btn-select-plan[_ngcontent-%COMP%]:hover{background-color:#004d00}"]})};var lt=class i{baseUrl=`${te.baseURL}/admin/resources`;http=c(T);getResources(){return this.http.get(`${this.baseUrl}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var st=class i{transform(t){switch(t){case"ARTICLE":return"ARTICULO";case"GUIDE":return"GUIA";case"WORKOUT_PLAN":return"PLAN DE ENTRENAMIENTO";case"RECIPE":return"PLAN DE ENTRENAMIENTO";default:return t}}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=Q({name:"resourceType",type:i,pure:!0,standalone:!0})};function Ui(i,t){if(i&1&&(o(0,"div",4)(1,"h3",5),a(2),n(),o(3,"p",6),a(4),n(),o(5,"p",7)(6,"strong"),a(7,"Tipo de Recurso:"),n(),a(8),k(9,"resourceType"),n(),o(10,"a",8),a(11,"Ver Recurso"),n(),o(12,"p",9)(13,"strong"),a(14,"Experto:"),n(),a(15),o(16,"em"),a(17),n()()()),i&2){let e=t.$implicit;s(2),y(e.title),s(2),y(e.description),s(4),b(" ",D(9,7,e.resourceType),""),s(2),m("href",e.content,Gt),s(5),Bt(" ",e.expertFirstName," ",e.expertLastName," - "),s(2),y(e.expertExpertise)}}function Gi(i,t){if(i&1&&(o(0,"div",2),f(1,Ui,18,9,"div",3),n()),i&2){let e=g();s(),m("ngForOf",e.resources)}}function Li(i,t){i&1&&(o(0,"p",10),a(1,"No hay recursos disponibles en este momento."),n())}var ct=class i{resourceService=c(lt);profileService=c(w);subService=c(_e);isSubs=!1;profile=null;resources=[];ngOnInit(){this.loadResources()}checkStatus(){this.profileService.getUserProfile().subscribe(t=>{this.profile=t,this.profile&&this.subService.getSubStatus(this.profile.id).subscribe(e=>{this.isSubs=e,this.isSubs&&this.loadResources()})})}loadResources(){this.resourceService.getResources().subscribe(t=>{this.resources=t},t=>{console.error(t)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-resources"]],standalone:!0,features:[x],decls:3,vars:2,consts:[["noResources",""],["class","resource-container",4,"ngIf","ngIfElse"],[1,"resource-container"],["class","resource-card",4,"ngFor","ngForOf"],[1,"resource-card"],[1,"resource-title"],[1,"resource-description"],[1,"resource-type"],["target","_blank",1,"resource-link",3,"href"],[1,"expert-info"],[1,"no-resources-message"]],template:function(e,r){if(e&1&&f(0,Gi,2,1,"div",1)(1,Li,2,0,"ng-template",null,0,ce),e&2){let l=Y(2);m("ngIf",r.resources.length>0)("ngIfElse",l)}},dependencies:[M,H,I,st],styles:[".resource-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin:20px;justify-content:center}.resource-card[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:300px;padding:20px;transition:transform .3s ease,box-shadow .3s ease}.resource-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0003}.resource-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin-bottom:10px}.resource-description[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-bottom:10px}.resource-type[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#444;margin-bottom:15px}.resource-link[_ngcontent-%COMP%]{text-decoration:none;background-color:#007bff;color:#fff;padding:10px 15px;border-radius:5px;text-align:center;display:inline-block;width:100%;transition:background-color .3s ease}.resource-link[_ngcontent-%COMP%]:hover{background-color:#0056b3}.expert-info[_ngcontent-%COMP%]{font-size:.9rem;color:#555;margin-top:10px}.no-resources-message[_ngcontent-%COMP%]{font-size:1.2rem;color:#888;text-align:center;margin-top:20px}"]})};var ss=[{path:"",component:$e,children:[{path:"profile",component:Ye},{path:"create-profile",component:Qe,canActivate:[wr]},{path:"plan/create-plan",component:Xe},{path:"home",component:Ze,canActivate:[kr]},{path:"plan",component:et},{path:"plan/goal",component:tt},{path:"plan/edit",component:rt},{path:"plan/goal/edit",component:it},{path:"profile/edit",component:nt},{path:"subscription",component:at},{path:"resources",component:ct}]}];export{ss as customerRoutes};
